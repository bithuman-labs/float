[cerebrium.deployment]
name = "cpu-avatar-service"
include = [
    "Dockerfile",
    "avatar_worker.py",
    "dispatcher.py",
    "requirements.txt",
]


[cerebrium.hardware]
cpu = 4
memory = 6.0

[cerebrium.scaling]
min_replicas = 0           # Minimum running instances
max_replicas = 3           # Maximum concurrent instances
cooldown = 60              # Cooldown period in seconds
replica_concurrency = 1    # The maximum number of requests each replica of an app can accept

[cerebrium.runtime.custom]
port = 8089
healthcheck_endpoint = "/health"
readycheck_endpoint = "/ready"
dockerfile_path = "./Dockerfile"